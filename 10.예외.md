# 예외
## 아이템 69. 예외는 진짜 예외 상황에만 사용하라
예외는 오직 예외 상황에서만 써야한다. 일상적인 제어 흐름을 위해 예외를 사용했다가 버그와 혼란만 가중시킨다. 다음은 반복문을 종료시키기 위한 흐름 제어용 예외이다. 
```java
        try{
            int i=0;
            while(true){
                range[i++].climb();
            }
        }catch (ArrayIndexOutOfBoundsException e){
            
        }
        
```
이러한 코드는 크게 두 가지 문제점이 있다. 먼저 JVM이 적용할 수 있는 최적화가 제한된다. 코드를 try-catch문에 넣었기 때문이다. 따라서 흐름 제어용 예외는 프로그램의 성능을 떨어뜨린다. 또한 진짜 버그를 숨긴다. 반목문을 수행하며 잘못된 요소에 접근하여 진짜 ArrayIndexOutBoundsException이 발생했을 경우 프로그램은 정상적으로 흐른다. 표준적인 for문을 사용했더라면 예외가 발생하고 스택 추적 정보들이 남겨진 채, 해당 쓰레드는 종료될 것이다. 즉, 표준 for문을 통해서는 오류의 원인을 정확히 찾을 수 있다. 반면, 흐름 제어용 예외의 경우 진짜 예외가 발생했는데, 프로그램이 정상적으로 흐르기에 코드의 버그를 찾기 어렵다.  
정리하자면, 예외는 예외 상황에서 사용하는 것이 프로그램의 성능 및 버거깅 측면에서 바람직하다.  

## 아이템 70. 복구할 수 있는 상황에는 검사 예외를, 프로그래밍 오류에는 런타임 예외를 사용하라
자바는 문제 상황을 알리는 타입으로 Throwable을 Exception과 Error를 제공한다. Error가 발생하면 프로그램 코드에 의해 수습될 수 없으며 프로그램이 종료된다. Error의 대표적인 예로는 OutOfMemomryError, StackOverFlowError가 있다.  
한편, Exception은 프로그램 코드에 의해 수습될 수도 있는 문제로 다시 Unchecked 예외와 Checked 예외로 나뉜다. Unchecked 예외의 대표적인 예로는 NullPointerException, ArrayIndexOutOfBoundsException와 같은 RuntimeException이 있다. Checked 예외의 대표적인 예로는 IOException, SQLException이 있다.   
Unchecked 예외와 Checked예외를 사용해야 하는 기준은 복구할 수 있느냐에 따라 달렸다. 호출하는 쪽에서 복구하리라 여겨지는 상황에서는 Checked 예외를 사용해야한다. 복구하리라 여겨지는 상황에서 더 나아가, Checked 예외는 호출하는 쪽에서 복구해달라는 요구를 할 수 있다. 반면, Unchecked 예외는 클라이언트가 복구할 수 없고 그럴 필요가 없는 상황에서 사용해야 한다. 주로 프로그래밍 오류가 될 수 있는데, 대부분이 특정 전제 조건을 만족하지 못해서 발생한다. 예를 들어, 여러 사이트에서 널리 사용되는 유효성 검증 실패 시 발생하는 예외가 있다. 해당 예외는 특정 조건을 만족하지 못했기에 클라이언트가 이를 잡아서 해결할 방안이 없다. 이런 예외를 잡지 않은 스레드는 적절한 오류 메시지를 내뱉으며 중단된다.  
정리하자면, 복구할 수 있는 상황 또는 호출하는 쪽에서 복구해야하는 상황이면 Checked 예외를, 프로그래밍 오류라는 UnChecked 예외를 던지는 것이 바람직하다. 